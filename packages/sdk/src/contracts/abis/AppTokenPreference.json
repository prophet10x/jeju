{
  "abi": [
    {
      "type": "constructor",
      "inputs": [
        {
          "name": "_tokenRegistry",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "_crossChainPaymaster",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "initialOwner",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "appFallbackTokens",
      "inputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "appPreferences",
      "inputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "outputs": [
        {
          "name": "appAddress",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "preferredToken",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "tokenSymbol",
          "type": "string",
          "internalType": "string"
        },
        {
          "name": "tokenDecimals",
          "type": "uint8",
          "internalType": "uint8"
        },
        {
          "name": "allowFallback",
          "type": "bool",
          "internalType": "bool"
        },
        {
          "name": "minBalance",
          "type": "uint256",
          "internalType": "uint256"
        },
        {
          "name": "isActive",
          "type": "bool",
          "internalType": "bool"
        },
        {
          "name": "registrant",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "registrationTime",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "crossChainPaymaster",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "getAppCount",
      "inputs": [],
      "outputs": [
        {
          "name": "count",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "getAppFallbackTokens",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "internalType": "address"
        }
      ],
      "outputs": [
        {
          "name": "tokens",
          "type": "address[]",
          "internalType": "address[]"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "getAppPreference",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "internalType": "address"
        }
      ],
      "outputs": [
        {
          "name": "preference",
          "type": "tuple",
          "internalType": "struct AppTokenPreference.AppPreference",
          "components": [
            {
              "name": "appAddress",
              "type": "address",
              "internalType": "address"
            },
            {
              "name": "preferredToken",
              "type": "address",
              "internalType": "address"
            },
            {
              "name": "tokenSymbol",
              "type": "string",
              "internalType": "string"
            },
            {
              "name": "tokenDecimals",
              "type": "uint8",
              "internalType": "uint8"
            },
            {
              "name": "allowFallback",
              "type": "bool",
              "internalType": "bool"
            },
            {
              "name": "minBalance",
              "type": "uint256",
              "internalType": "uint256"
            },
            {
              "name": "isActive",
              "type": "bool",
              "internalType": "bool"
            },
            {
              "name": "registrant",
              "type": "address",
              "internalType": "address"
            },
            {
              "name": "registrationTime",
              "type": "uint256",
              "internalType": "uint256"
            }
          ]
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "getBestPaymentToken",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "userBalances",
          "type": "tuple[]",
          "internalType": "struct TokenBalance[]",
          "components": [
            {
              "name": "token",
              "type": "address",
              "internalType": "address"
            },
            {
              "name": "balance",
              "type": "uint256",
              "internalType": "uint256"
            }
          ]
        }
      ],
      "outputs": [
        {
          "name": "bestToken",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "reason",
          "type": "string",
          "internalType": "string"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "getGlobalDefaults",
      "inputs": [],
      "outputs": [
        {
          "name": "tokens",
          "type": "address[]",
          "internalType": "address[]"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "getRegisteredApps",
      "inputs": [],
      "outputs": [
        {
          "name": "apps",
          "type": "address[]",
          "internalType": "address[]"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "globalDefaultTokens",
      "inputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "hasPreferredToken",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "user",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "token",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "balance",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "outputs": [
        {
          "name": "hasPreferred",
          "type": "bool",
          "internalType": "bool"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "owner",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "registerApp",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "preferredToken",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "allowFallback",
          "type": "bool",
          "internalType": "bool"
        },
        {
          "name": "minBalance",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "registeredApps",
      "inputs": [
        {
          "name": "",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "removeApp",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "internalType": "address"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "renounceOwnership",
      "inputs": [],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "setCrossChainPaymaster",
      "inputs": [
        {
          "name": "_crossChainPaymaster",
          "type": "address",
          "internalType": "address"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "setFallbackTokens",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "tokens",
          "type": "address[]",
          "internalType": "address[]"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "setGlobalDefaults",
      "inputs": [
        {
          "name": "tokens",
          "type": "address[]",
          "internalType": "address[]"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "setTokenRegistry",
      "inputs": [
        {
          "name": "_tokenRegistry",
          "type": "address",
          "internalType": "address"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "tokenRegistry",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "transferOwnership",
      "inputs": [
        {
          "name": "newOwner",
          "type": "address",
          "internalType": "address"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "updatePreferredToken",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "internalType": "address"
        },
        {
          "name": "newPreferredToken",
          "type": "address",
          "internalType": "address"
        }
      ],
      "outputs": [],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "version",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "string",
          "internalType": "string"
        }
      ],
      "stateMutability": "pure"
    },
    {
      "type": "event",
      "name": "AppPreferenceRemoved",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        }
      ],
      "anonymous": false
    },
    {
      "type": "event",
      "name": "AppPreferenceSet",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        },
        {
          "name": "preferredToken",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        },
        {
          "name": "symbol",
          "type": "string",
          "indexed": false,
          "internalType": "string"
        },
        {
          "name": "allowFallback",
          "type": "bool",
          "indexed": false,
          "internalType": "bool"
        },
        {
          "name": "registrant",
          "type": "address",
          "indexed": false,
          "internalType": "address"
        }
      ],
      "anonymous": false
    },
    {
      "type": "event",
      "name": "AppPreferenceUpdated",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        },
        {
          "name": "newPreferredToken",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        },
        {
          "name": "symbol",
          "type": "string",
          "indexed": false,
          "internalType": "string"
        }
      ],
      "anonymous": false
    },
    {
      "type": "event",
      "name": "CrossChainPaymasterUpdated",
      "inputs": [
        {
          "name": "oldPaymaster",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        },
        {
          "name": "newPaymaster",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        }
      ],
      "anonymous": false
    },
    {
      "type": "event",
      "name": "FallbackTokensSet",
      "inputs": [
        {
          "name": "appAddress",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        },
        {
          "name": "tokens",
          "type": "address[]",
          "indexed": false,
          "internalType": "address[]"
        }
      ],
      "anonymous": false
    },
    {
      "type": "event",
      "name": "GlobalDefaultsSet",
      "inputs": [
        {
          "name": "tokens",
          "type": "address[]",
          "indexed": false,
          "internalType": "address[]"
        }
      ],
      "anonymous": false
    },
    {
      "type": "event",
      "name": "OwnershipTransferred",
      "inputs": [
        {
          "name": "previousOwner",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        },
        {
          "name": "newOwner",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        }
      ],
      "anonymous": false
    },
    {
      "type": "event",
      "name": "TokenRegistryUpdated",
      "inputs": [
        {
          "name": "oldRegistry",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        },
        {
          "name": "newRegistry",
          "type": "address",
          "indexed": true,
          "internalType": "address"
        }
      ],
      "anonymous": false
    },
    {
      "type": "error",
      "name": "AppAlreadyRegistered",
      "inputs": [
        {
          "name": "app",
          "type": "address",
          "internalType": "address"
        }
      ]
    },
    {
      "type": "error",
      "name": "AppNotRegistered",
      "inputs": [
        {
          "name": "app",
          "type": "address",
          "internalType": "address"
        }
      ]
    },
    {
      "type": "error",
      "name": "InvalidAddress",
      "inputs": []
    },
    {
      "type": "error",
      "name": "InvalidToken",
      "inputs": [
        {
          "name": "token",
          "type": "address",
          "internalType": "address"
        }
      ]
    },
    {
      "type": "error",
      "name": "NotAuthorized",
      "inputs": []
    },
    {
      "type": "error",
      "name": "OwnableInvalidOwner",
      "inputs": [
        {
          "name": "owner",
          "type": "address",
          "internalType": "address"
        }
      ]
    },
    {
      "type": "error",
      "name": "OwnableUnauthorizedAccount",
      "inputs": [
        {
          "name": "account",
          "type": "address",
          "internalType": "address"
        }
      ]
    },
    {
      "type": "error",
      "name": "TokenNotSupported",
      "inputs": [
        {
          "name": "token",
          "type": "address",
          "internalType": "address"
        }
      ]
    }
  ]
}
