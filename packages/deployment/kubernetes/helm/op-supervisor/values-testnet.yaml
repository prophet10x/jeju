# OP-Supervisor values for testnet
# Enables Superchain native interop for cross-L2 messaging

replicaCount: 0  # Disabled - needs complex multi-chain config not ready for testnet

image:
  repository: 502713364895.dkr.ecr.us-east-1.amazonaws.com/jeju/op-supervisor
  tag: "testnet-latest"

resources:
  limits:
    cpu: 1000m
    memory: 2Gi
  requests:
    cpu: 500m
    memory: 1Gi

nodeSelector: null

tolerations:
  - key: workload
    operator: Equal
    value: rpc
    effect: NoSchedule

config:
  datadir: "/data"
  
  l1:
    # Use public Sepolia RPC for testnet (internal L1 node has disk space issues)
    rpcUrl: "https://rpc.sepolia.org"
    beacon:
      # Public beacon API (optional, empty to disable)
      url: ""
  
  chains:
    # Jeju Testnet (our chain)
    - name: "jeju-testnet"
      chainId: 420690
      rpcUrl: "http://reth-rpc.rpc.svc.cluster.local:8545"
      opNodeUrl: "http://op-node.op-stack.svc.cluster.local:9545"
    
    # Base Sepolia (via full node)
    - name: "base-sepolia"
      chainId: 84532
      rpcUrl: "http://op-geth-base-sepolia.l2-base.svc.cluster.local:8545"
      opNodeUrl: "http://op-node-base-sepolia.l2-base.svc.cluster.local:9545"
    
    # Optimism Sepolia (via full node)
    - name: "optimism-sepolia"
      chainId: 11155420
      rpcUrl: "http://op-geth-optimism-sepolia.l2-optimism.svc.cluster.local:8545"
      opNodeUrl: "http://op-node-optimism-sepolia.l2-optimism.svc.cluster.local:9545"
  
  interop:
    enabled: true
    # Dependency set: Chains this supervisor validates messages from
    # These are the OP Stack chains that can send cross-L2 messages to Jeju
    dependencySet:
      - chainId: 84532      # Base Sepolia
        rpcUrl: "http://op-geth-base-sepolia.l2-base.svc.cluster.local:8545"
      - chainId: 11155420   # Optimism Sepolia
        rpcUrl: "http://op-geth-optimism-sepolia.l2-optimism.svc.cluster.local:8545"
