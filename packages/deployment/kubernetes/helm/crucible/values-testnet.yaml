# Testnet values for Crucible

replicaCount:
  api: 2
  executor: 1
  bot: 1

image:
  repository: jeju/crucible
  tag: "testnet"

ingress:
  enabled: true
  className: "alb"
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/certificate-arn: "arn:aws:acm:us-east-1:502713364895:certificate/0a915a42-9da2-4133-af16-ac7080d23308"
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS": 443}]'
    alb.ingress.kubernetes.io/ssl-redirect: "443"
  hosts:
    - host: crucible.testnet.jeju.network
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: crucible-tls
      hosts:
        - crucible.testnet.jeju.network

config:
  network: testnet
  rpcUrl: https://sepolia.base.org
  contracts:
    agentVault: "0x0000000000000000000000000000000000000000"
    roomRegistry: "0x0000000000000000000000000000000000000000"
    triggerRegistry: "0x0000000000000000000000000000000000000000"
    identityRegistry: "0x0000000000000000000000000000000000000000"
    serviceRegistry: "0x0000000000000000000000000000000000000000"
    autocratTreasury: "0x0000000000000000000000000000000000000000"
  services:
    computeMarketplace: https://compute.testnet.jeju.network
    storageApi: https://storage.testnet.jeju.network
    ipfsGateway: https://ipfs.testnet.jeju.network
    indexerGraphql: https://indexer.testnet.jeju.network/graphql
    cqlEndpoint: https://cql.testnet.jeju.network
    dexCacheUrl: https://storage.testnet.jeju.network/cache

# MEV + LP Bot configuration for testnet
bot:
  enabled: true
  enableArbitrage: true
  enableCrossChain: true
  enableSolanaArb: true
  enableLiquidity: true
  enableYieldFarming: true
  solanaRpcUrl: "https://api.devnet.solana.com"
  solanaNetwork: "devnet"
  minProfitBps: 100  # Higher threshold for testnet
  maxSlippageBps: 200
  # Yield farming configuration for testnet
  yieldFarming:
    minApr: 0.5           # Lower threshold for testing
    maxRiskScore: 80      # Accept higher risk for testing
    preferRealYield: true
    minTvl: 10000         # Lower TVL threshold for testnet
    maxPositionPercent: 30
    autoCompound: true
    autoRebalance: true

resources:
  api:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi
  executor:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 2000m
      memory: 2Gi
  bot:
    requests:
      cpu: 1000m
      memory: 2Gi
    limits:
      cpu: 4000m
      memory: 8Gi
