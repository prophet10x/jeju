# Mainnet values for Jeju Compute Services

common:
  rpcUrl: "https://rpc.jeju.network"
  registryAddress: ""  # Set by CI/CD
  workerRegistryAddress: ""  # Set by CI/CD

computeNode:
  replicaCount: 5
  image:
    tag: mainnet-latest
  resources:
    requests:
      cpu: "1000m"
      memory: "1Gi"
    limits:
      cpu: "4000m"
      memory: "4Gi"
  env:
    NODE_ENV: production

workerRuntime:
  replicaCount: 5
  image:
    tag: mainnet-latest
  resources:
    requests:
      cpu: "500m"
      memory: "512Mi"
    limits:
      cpu: "2000m"
      memory: "2Gi"
  autoscaling:
    minReplicas: 5
    maxReplicas: 50
    targetCPUUtilizationPercentage: 60

mpcNode:
  replicaCount: 5  # 3-of-5 for mainnet
  image:
    tag: mainnet-latest
  env:
    MPC_NETWORK_ID: jeju-mainnet
    MPC_THRESHOLD: "3"
    MPC_TOTAL_SHARES: "5"
  resources:
    requests:
      cpu: "500m"
      memory: "512Mi"
    limits:
      cpu: "2000m"
      memory: "1Gi"

ingress:
  annotations:
    nginx.ingress.kubernetes.io/rate-limit: "100"
    nginx.ingress.kubernetes.io/rate-limit-window: "1m"
  hosts:
    - host: compute.jeju.network
      paths:
        - path: /
          pathType: Prefix
          service: computeNode
        - path: /workers
          pathType: Prefix
          service: workerRuntime
        - path: /mpc
          pathType: Prefix
          service: mpcNode
  tls:
    - secretName: compute-mainnet-tls
      hosts:
        - compute.jeju.network

podDisruptionBudget:
  minAvailable: 2
