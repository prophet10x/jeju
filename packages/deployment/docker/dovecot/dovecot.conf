# Dovecot configuration for Jeju Mail Local Development
# Minimal configuration for testing IMAP compliance

protocols = imap

# Logging
log_path = /dev/stderr
info_log_path = /dev/stderr

# Authentication - simple for local dev
disable_plaintext_auth = no
auth_mechanisms = plain login

passdb {
  driver = static
  args = password=testpassword
}

userdb {
  driver = static
  args = uid=1000 gid=1000 home=/var/mail/%u
}

# Mail location
mail_location = maildir:/var/mail/%u/Maildir

# SSL - disabled for local dev
ssl = no

# IMAP settings
protocol imap {
  mail_max_userip_connections = 10
}

# Namespace
namespace inbox {
  inbox = yes
  separator = /
  
  mailbox Drafts {
    special_use = \Drafts
    auto = subscribe
  }
  mailbox Sent {
    special_use = \Sent
    auto = subscribe
  }
  mailbox Trash {
    special_use = \Trash
    auto = subscribe
  }
  mailbox Spam {
    special_use = \Junk
    auto = subscribe
  }
  mailbox Archive {
    special_use = \Archive
    auto = subscribe
  }
}
